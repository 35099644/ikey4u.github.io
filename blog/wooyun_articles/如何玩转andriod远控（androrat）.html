<html>
<head>
     <title>如何玩转andriod远控（androrat） - ╰╃清風</title>
	 <meta http-equiv="content-type" content="text/html; charset=UTF-8">
</head>
<body>
<h1>URL:<a href="http://drops.wooyun.org/tips/572">http://drops.wooyun.org/tips/572</a></h1>

      <p>
        <p><a href="http://drops.wooyun.org/papers/548">关于WebView中接口隐患与手机挂马利用</a>的引深</p>

<p>看我是怎样改造Android远程控制工具AndroRat</p>

<pre><code>1.修改布局界面
2.配置默认远程ip和端口
3.LauncherActivity修改为运行后自动开启服务并自动返回到主界面
4.修改xml让程序不显示在最新使用的程序
</code></pre>

<!--more-->

<h2>0x00 搭建andriod环境</h2>

<hr />

<p>对于小白来说，首先需要的开发环境是必须</p>

<pre><code>1.eclipse
2.jdk
3.sdk
</code></pre>

<p>安装配置好后就将我们的AndroRat工程导入eclipse中</p>

<p>导入完成后看见2个工程如图：</p>

<p><img src="https://github.com/ikey4u/WooyunImages/raw/master/pics/837f1d2d35983db88c64650a5cea2304.jpg" alt="2013090815203427803.jpg" /></p>

<p>刚导入进来时肯定会编译报错，这时需将2个jra包引用进来 如图：</p>

<p><img src="https://github.com/ikey4u/WooyunImages/raw/master/pics/a660f2d3eab38f2eb17daaac63962a79.jpg" alt="2013090815230469611.jpg" />  </p>

<p>其他报错如import 缺少对应包可到<a href="http://www.findjar.com/index.x">http://www.findjar.com/index.x</a>查找并引用</p>

<p>编译错误解决完成后就会出现黄色感叹号，这个时候2个工程就可以运行了。</p>

<h2>0x01 安装androrat</h2>

<hr />

<p>先运行我们的服务端开启监听 默认config.txt配置端口</p>

<p><img src="https://github.com/ikey4u/WooyunImages/raw/master/pics/e651841ef0547dae904325ac9c5881fd.jpg" alt="2013090815334573925.jpg" /></p>

<p>运行成功后出现服务端如下：</p>

<p><img src="https://github.com/ikey4u/WooyunImages/raw/master/pics/2872946adba18080c76b4ee092292bab.jpg" alt="2013090815353936194.jpg" /></p>

<p>接着运行客户端，使用usb链接我们的手机安装app查看</p>

<p><img src="https://github.com/ikey4u/WooyunImages/raw/master/pics/a8163a82e32ce8cff73c07ec21f2e2e2.jpg" alt="2013090815295584722.jpg" /></p>

<p>安装好后应用列表会有一个叫LogsProvider的应用，可以在如下文件里修改name</p>

<p><img src="https://github.com/ikey4u/WooyunImages/raw/master/pics/7011068d1a8c1c3e9f148ebfd3192593.jpg" alt="2013090815434447913.jpg" /></p>

<p>接着修改LauncherActivity.class代码让程序默认情动并运行后自动black</p>

<p><img src="https://github.com/ikey4u/WooyunImages/raw/master/pics/5a6df567a15f3dc67fa00943049f30cd.jpg" alt="2013090815490412471.jpg" /></p>

<p>Manifest修改，使其不在home最近应用里显示</p>

<p><img src="https://github.com/ikey4u/WooyunImages/raw/master/pics/81bff9c5c4903ac328057f6ef0e4c33a.jpg" alt="2013090816033950681.jpg" /></p>

<p>布局文件位置，可以自定义修改布局</p>

<p><img src="https://github.com/ikey4u/WooyunImages/raw/master/pics/31bd2f5e5b5d38b7e8a9b88790552130.jpg" alt="2013090815511471104.jpg" /></p>

<p>adb 安装运行客户端后，服务端如图，-手机安装程序后会自动返回到桌面，长按home也看不到该程序。</p>

<p><img src="https://github.com/ikey4u/WooyunImages/raw/master/pics/20249cbe7864634d0493c85b26a8cecb.jpg" alt="2013090815541350530.jpg" /></p>

<p>此时整个程序可以使用了，功能挺多的就不列举了</p>

<h2>0x02 引申思考</h2>

<hr />

<p>1.如把修改app写成服务，监听短信指定代码开启端口 （老外都这样干的）</p>

<p>2.andriod里的gps功能和拍照功能有bug 这可是两个亮点功能，擦</p>

<p>3.实现程序的自动编写，屏蔽扫描杀软，自我复制和感染文件（这还是留个大牛们研究）</p>

<p><a href="http://url.cn/Ke7wxT">http://url.cn/Ke7wxT</a>微云源码分享地址</p>      </p>
    
</body>
</html>